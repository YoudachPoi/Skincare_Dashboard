<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skincare Routine Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Neutral & Sage -->
    <!-- Application Structure Plan: The application is designed as an interactive dashboard. The primary view is "Today's Routine," which dynamically displays the required skincare steps for the current day and time, making the complex schedule immediately actionable. This task-oriented approach is more user-friendly than a static table. Supplementary sections include a "Full Weekly Plan" for an overview, a "Product Arsenal" for product details, and a critical "Getting Started Guide" for the initial adjustment period. This structure was chosen to simplify a multi-step, variable routine into manageable daily tasks, enhancing user adherence and success. -->
    <!-- Visualization & Content Choices: Report Info -> Skincare steps -> Goal -> Guide user through daily routine -> Viz/Presentation -> Interactive checklist cards for "Today's Routine," collapsible sections for "Weekly Plan," and a grid for "Product Arsenal." -> Interaction -> Checkboxes for task completion, click-to-expand details. -> Justification -> This method transforms a static text plan into a dynamic, engaging tool that reduces cognitive load for the user. -> Library/Method -> Vanilla JavaScript for logic and DOM manipulation, Tailwind CSS for styling. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active {
            color: #3D5A54;
            border-bottom-color: #3D5A54;
        }
        .nav-link:hover {
            color: #3D5A54;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #F0EBE3;
        }
        .btn-primary {
            background-color: #6B8E86;
            color: #FFFFFF;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #5A7B73;
        }
        .checkbox-custom:checked {
           background-color: #6B8E86;
           border-color: #5A7B73;
        }
        .progress-bar-fill {
            background-color: #6B8E86;
        }
        .section-title {
            color: #3D5A54;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold section-title">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏¥‡∏ß‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</h1>
            <p class="text-lg mt-2 text-gray-600">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏¥‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏¥‡∏ß‡πÅ‡∏•‡∏∞‡∏ú‡∏¥‡∏ß‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
        </header>

        <nav class="flex justify-center border-b border-gray-200 mb-8">
            <button data-view="today" class="nav-link active px-4 py-2 text-lg font-semibold">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
            <button data-view="weekly" class="nav-link px-4 py-2 text-lg font-semibold">‡πÅ‡∏ú‡∏ô‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</button>
            <button data-view="products" class="nav-link px-4 py-2 text-lg font-semibold">‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå</button>
            <button data-view="guide" class="nav-link px-4 py-2 text-lg font-semibold">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏π‡πâ</button>
        </nav>

        <main>
            <div id="today-view">
                <!-- Content will be generated by JavaScript -->
            </div>
            <div id="weekly-view" class="hidden">
                <!-- Content will be generated by JavaScript -->
            </div>
            <div id="products-view" class="hidden">
                 <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold section-title">‡∏Ñ‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå (Product Arsenal)</h2>
                    <p class="text-md mt-1 text-gray-500">‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                </div>
                <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Product cards will be generated by JavaScript -->
                </div>
            </div>
            <div id="guide-view" class="hidden">
                <!-- Content will be generated by JavaScript -->
            </div>
        </main>
    </div>

    <script>
        const skincareData = {
            products: [
                { id: 'unilabel', name: 'Unilabel Moist Botanical Cleansing Gel', group: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î', purpose: '‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡∏ô ‡πÉ‡∏ä‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏à‡∏•‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô' },
                { id: 'cetaphil', name: 'Cetaphil Oily Skin Cleanser', group: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î', purpose: '‡πÄ‡∏à‡∏•‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ú‡∏¥‡∏ß‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô' },
                { id: 'somebymi', name: 'Some By Mi AHA-BHA-PHA Toner', group: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á', purpose: '‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ú‡∏•‡∏±‡∏î‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏ú‡∏¥‡∏ß ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô' },
                { id: 'mizumi_green', name: 'MizuMi B3 Acne Concentrate Serum', group: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á', purpose: '‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏£‡∏≠‡∏¢‡∏™‡∏¥‡∏ß (‡∏Ç‡∏ß‡∏î‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)' },
                { id: 'mizumi_pink', name: 'MizuMi AHA BHA Acne Serum', group: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á', purpose: '‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏™‡∏¥‡∏ß‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô (‡∏Ç‡∏ß‡∏î‡∏ä‡∏°‡∏û‡∏π)' },
                { id: 'srichand', name: 'Srichand Skin Moisture Burst Gel Cream', group: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á', purpose: '‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏ú‡∏¥‡∏ß' },
                { id: 'eucerin_matt', name: 'Eucerin A.I. Matt Fluid', group: '‡∏ö‡∏≥‡∏£‡∏∏‡∏á', purpose: '‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ñ‡∏∏‡∏°‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤' },
                { id: 'mizumi_sun', name: 'MizuMi UV Acne Matte Serum', group: '‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á', purpose: '‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏ó‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡∏ß' },
                { id: 'biore_sun', name: 'Biore UV Body Serum', group: '‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á', purpose: '‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏ó‡∏≤‡∏ï‡∏±‡∏ß ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏≤' },
                { id: 'innisfree', name: 'Innisfree Super Volcanic Pore Clay Mask', group: '‡∏î‡∏π‡πÅ‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©', purpose: '‡∏°‡∏≤‡∏™‡πå‡∏Å‡πÇ‡∏Ñ‡∏•‡∏ô ‡∏î‡∏π‡∏î‡∏ã‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡∏ô ‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á' },
                { id: 'keana', name: 'Keana Rice Mask', group: '‡∏î‡∏π‡πÅ‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©', purpose: '‡∏°‡∏≤‡∏™‡πå‡∏Å‡∏ä‡∏µ‡∏ó ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πâ‡∏ô ‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á' },
            ],
            schedule: {
                // 0: Sunday, 1: Monday...
                1: { // Monday
                    morning: [
                        { step: 1, type: '‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤', product_id: 'cetaphil' },
                        { step: 2, type: '‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå', product_id: 'somebymi' },
                        { step: 3, type: '‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏£‡∏≠‡∏¢', product_id: 'mizumi_green' },
                        { step: 4, type: '‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå', product_id: 'eucerin_matt' },
                        { step: 5, type: '‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏´‡∏ô‡πâ‡∏≤', product_id: 'mizumi_sun' },
                        { step: 6, type: '‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏ï‡∏±‡∏ß', product_id: 'biore_sun' },
                    ],
                    evening: [
                        { step: 1, type: '‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î', product_id: 'unilabel' },
                        { step: 2, type: '‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤', product_id: 'cetaphil' },
                        { step: 3, type: '‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå', product_id: 'somebymi' },
                        { step: 4, type: '‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô', product_id: 'mizumi_pink' },
                        { step: 5, type: '‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå', product_id: 'srichand' },
                    ]
                },
                2: { // Tuesday
                    morning: 'same_as_monday',
                    evening: [
                         { step: 1, type: '‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î', product_id: 'unilabel' },
                        { step: 2, type: '‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤', product_id: 'cetaphil' },
                        { step: 3, type: '‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå', product_id: 'somebymi' },
                        { step: 4, type: '‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏£‡∏≠‡∏¢', product_id: 'mizumi_green' },
                        { step: 5, type: '‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå', product_id: 'srichand' },
                    ]
                },
                3: { // Wednesday
                    morning: 'same_as_monday',
                    evening: 'same_as_monday'
                },
                4: { // Thursday
                    morning: 'same_as_monday',
                    evening: 'same_as_tuesday'
                },
                5: { // Friday
                    morning: 'same_as_monday',
                    evening: 'same_as_monday'
                },
                6: { // Saturday (Special Care)
                    morning: 'same_as_monday',
                    evening: [
                        { step: 1, type: '‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î', product_id: 'unilabel' },
                        { step: 2, type: '‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤', product_id: 'cetaphil' },
                        { step: 3, type: '‡∏°‡∏≤‡∏™‡πå‡∏Å‡πÇ‡∏Ñ‡∏•‡∏ô', product_id: 'innisfree' },
                        { step: 4, type: '‡∏°‡∏≤‡∏™‡πå‡∏Å‡∏ä‡∏µ‡∏ó', product_id: 'keana' },
                        { step: 5, type: '‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå', product_id: 'somebymi' },
                        { step: 6, type: '‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏£‡∏≠‡∏¢', product_id: 'mizumi_green' },
                        { step: 7, type: '‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå', product_id: 'srichand' },
                    ]
                },
                0: { // Sunday
                    morning: 'same_as_monday',
                    evening: 'same_as_tuesday'
                }
            },
            guide: {
                title: '‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏à‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏†‡∏≤‡∏û‡∏ú‡∏¥‡∏ß)',
                content: `‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 1-2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏™‡∏Å‡∏¥‡∏ô‡πÅ‡∏Ñ‡∏£‡πå‡∏ä‡∏∏‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏†‡∏≤‡∏û‡∏ú‡∏¥‡∏ß‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô:<br><br>
                <strong class="text-lg text-gray-700"‚òÄÔ∏è ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤:</strong><br>
                1. ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ (Cetaphil)<br>
                2. ‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏£‡∏≠‡∏¢ (MizuMi ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)<br>
                3. ‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå (Eucerin)<br>
                4. ‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î‡∏´‡∏ô‡πâ‡∏≤ (MizuMi)<br><br>
                <strong class="text-lg text-gray-700">üåô ‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô:</strong><br>
                1. ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏î‡∏î (Unilabel)<br>
                2. ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ (Cetaphil)<br>
                3. ‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏£‡∏≠‡∏¢ (MizuMi ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)<br>
                4. ‡∏°‡∏≠‡∏¢‡∏™‡πå‡πÄ‡∏à‡∏≠‡πÑ‡∏£‡πÄ‡∏ã‡∏≠‡∏£‡πå (Srichand)<br><br>
                ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡πâ‡∏ô‡∏ä‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏≥‡πÇ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå (Some By Mi) ‡πÅ‡∏•‡∏∞‡πÄ‡∏ã‡∏£‡∏±‡πà‡∏°‡∏•‡∏î‡∏™‡∏¥‡∏ß‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô (MizuMi ‡∏ä‡∏°‡∏û‡∏π) ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏ô Routine ‡∏ï‡∏≤‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå`
            }
        };

        const daysOfWeek = ['‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', '‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò', '‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', '‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå'];

        const getProductById = (id) => skincareData.products.find(p => p.id === id);

        const renderTodayView = () => {
            const todayView = document.getElementById('today-view');
            const now = new Date();
            const dayIndex = now.getDay();
            const currentHour = now.getHours();
            
            const timeOfDay = (currentHour >= 4 && currentHour < 15) ? 'morning' : 'evening';
            const timeOfDayThai = (timeOfDay === 'morning') ? '‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤ (08:00 ‡∏ô.)' : '‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô (18:00 ‡∏ô.)';

            let routine = skincareData.schedule[dayIndex][timeOfDay];
            if (routine === 'same_as_monday') routine = skincareData.schedule[1][timeOfDay];
            if (routine === 'same_as_tuesday') routine = skincareData.schedule[2][timeOfDay];

            let content = `
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold section-title">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ, ${daysOfWeek[dayIndex]}</h2>
                    <p class="text-xl mt-1 text-gray-500">${timeOfDayThai}</p>
                </div>
                <div class="space-y-4" id="routine-steps">
            `;

            routine.forEach(item => {
                const product = getProductById(item.product_id);
                content += `
                    <div class="card rounded-lg p-4 flex items-center shadow-sm transition-all duration-300">
                        <div class="flex-shrink-0 w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-lg font-bold text-gray-500 mr-4">
                            ${item.step}
                        </div>
                        <div class="flex-grow">
                            <p class="font-bold text-gray-800 text-lg">${item.type}</p>
                            <p class="text-gray-600">${product.name}</p>
                        </div>
                        <div class="flex-shrink-0">
                            <input type="checkbox" class="checkbox-custom h-6 w-6 rounded border-gray-300 focus:ring-0">
                        </div>
                    </div>
                `;
            });
            
            content += '</div>';
            content += `
                <div class="mt-8">
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="progress-bar-fill h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                    <p id="progress-text" class="text-center mt-2 text-gray-600">0 / ${routine.length} ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
                </div>
            `;
            
            todayView.innerHTML = content;
            updateProgress();
        };

        const renderWeeklyView = () => {
            const weeklyView = document.getElementById('weekly-view');
            let content = `
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold section-title">‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏¥‡∏ß‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</h2>
                    <p class="text-md mt-1 text-gray-500">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ú‡∏¥‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô</p>
                </div>
                <div class="space-y-6">
            `;

            daysOfWeek.forEach((day, index) => {
                let morningRoutine = skincareData.schedule[index].morning;
                if (morningRoutine === 'same_as_monday') morningRoutine = skincareData.schedule[1].morning;
                
                let eveningRoutine = skincareData.schedule[index].evening;
                if (eveningRoutine === 'same_as_monday') eveningRoutine = skincareData.schedule[1].evening;
                if (eveningRoutine === 'same_as_tuesday') eveningRoutine = skincareData.schedule[2].evening;

                const isSpecialDay = index === 6;

                content += `
                    <div class="card rounded-lg shadow-sm overflow-hidden">
                        <button class="w-full text-left p-4 bg-gray-50 hover:bg-gray-100 transition">
                            <h3 class="text-xl font-bold text-gray-800">${day} ${isSpecialDay ? '‚≠ê (‡∏ß‡∏±‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©)' : ''}</h3>
                        </button>
                        <div class="p-4 border-t border-gray-200 hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-semibold text-lg mb-2">‚òÄÔ∏è ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤</h4>
                                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                                        ${morningRoutine.map(item => `<li><strong>${item.type}:</strong> ${getProductById(item.product_id).name}</li>`).join('')}
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-lg mb-2">üåô ‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô/‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</h4>
                                    <ul class="list-disc list-inside space-y-1 text-gray-700">
                                        ${eveningRoutine.map(item => `<li><strong>${item.type}:</strong> ${getProductById(item.product_id).name}</li>`).join('')}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });

            content += '</div>';
            weeklyView.innerHTML = content;
        };
        
        const renderProductsView = () => {
            const productGrid = document.getElementById('product-grid');
            let content = '';
            skincareData.products.forEach(product => {
                content += `
                    <div class="card rounded-lg p-5 text-center shadow-sm">
                        <h3 class="font-bold text-lg text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-gray-600 mb-2"><strong>‡∏Å‡∏•‡∏∏‡πà‡∏°:</strong> ${product.group}</p>
                        <p class="text-gray-500">${product.purpose}</p>
                    </div>
                `;
            });
            productGrid.innerHTML = content;
        };
        
        const renderGuideView = () => {
            const guideView = document.getElementById('guide-view');
            const { title, content } = skincareData.guide;
            guideView.innerHTML = `
                <div class="text-center mb-6">
                    <h2 class="text-3xl font-bold section-title">${title}</h2>
                </div>
                <div class="card rounded-lg p-6 shadow-sm bg-amber-50 border-amber-200">
                    <p class="text-gray-700 leading-relaxed text-lg">${content}</p>
                </div>
            `;
        };
        
        const updateProgress = () => {
            const routineSteps = document.getElementById('routine-steps');
            if (!routineSteps) return;

            const checkboxes = routineSteps.querySelectorAll('input[type="checkbox"]');
            const totalSteps = checkboxes.length;
            if(totalSteps === 0) return;
            
            const completedSteps = Array.from(checkboxes).filter(cb => cb.checked).length;
            const percentage = (completedSteps / totalSteps) * 100;
            
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');

            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${completedSteps} / ${totalSteps} ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à`;

            checkboxes.forEach(checkbox => {
                 const card = checkbox.closest('.card');
                 if(checkbox.checked) {
                     card.classList.add('opacity-50', 'bg-green-50');
                 } else {
                     card.classList.remove('opacity-50', 'bg-green-50');
                 }
            });
        };

        const navLinks = document.querySelectorAll('.nav-link');
        const views = document.querySelectorAll('main > div');

        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                const viewToShow = link.getAttribute('data-view');

                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');

                views.forEach(view => {
                    if (view.id === `${viewToShow}-view`) {
                        view.classList.remove('hidden');
                    } else {
                        view.classList.add('hidden');
                    }
                });
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            renderTodayView();
            renderWeeklyView();
            renderProductsView();
            renderGuideView();

            document.getElementById('weekly-view').addEventListener('click', (e) => {
                const button = e.target.closest('button');
                if (button) {
                    const content = button.nextElementSibling;
                    if (content) {
                        content.classList.toggle('hidden');
                    }
                }
            });

             document.getElementById('today-view').addEventListener('change', (e) => {
                if (e.target.matches('input[type="checkbox"]')) {
                    updateProgress();
                }
            });
        });

    </script>
</body>
</html>
